{"ast":null,"code":"var _jsxFileName = \"/Users/sabinevidal/Documents/Udacity/Text-Tutor/frontend/src/components/SubjectView.js\";\nimport React, { Component } from 'react';\nimport '../stylesheets/App.css';\nimport Subject from './subject';\nimport $ from 'jquery';\n\nclass SubjectView extends Component {\n  constructor() {\n    super();\n\n    this.getSubjects = () => {\n      $.ajax({\n        url: `/subjects`,\n        //TODO: update request URL\n        type: \"GET\",\n        mode: 'CORS',\n        success: result => {\n          this.setState({\n            subjects: result.subjects,\n            totalSubjects: result.total_subjects\n          });\n          return;\n        },\n        error: error => {\n          alert('Unable to load subjects. Please try your request again');\n          return;\n        }\n      });\n    };\n\n    this.subjectAction = id => action => {\n      if (action === 'DELETE') {\n        if (window.confirm('are you sure you want to delete the subject?')) {\n          $.ajax({\n            url: `/subjects/${id}`,\n            //TODO: update request URL\n            type: \"DELETE\",\n            success: result => {\n              this.getSubjects();\n            },\n            error: error => {\n              alert('Unable to load subjects. Please try your request again');\n              return;\n            }\n          });\n        }\n      }\n    };\n\n    this.state = {\n      subjects: []\n    };\n  }\n\n  componentDidMount() {\n    this.getSubjects();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"subject-view\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"subjects-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }, \"Subjects\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    }, \"Subjects\"), this.state.subjects.map((t, ind) => /*#__PURE__*/React.createElement(Subject, {\n      key: t.id,\n      name: t.name,\n      grade: t.grade,\n      subjectAction: this.subjectAction(t.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default SubjectView;","map":{"version":3,"sources":["/Users/sabinevidal/Documents/Udacity/Text-Tutor/frontend/src/components/SubjectView.js"],"names":["React","Component","Subject","$","SubjectView","constructor","getSubjects","ajax","url","type","mode","success","result","setState","subjects","totalSubjects","total_subjects","error","alert","subjectAction","id","action","window","confirm","state","componentDidMount","render","map","t","ind","name","grade"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAO,wBAAP;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,CAAP,MAAc,QAAd;;AAEA,MAAMC,WAAN,SAA0BH,SAA1B,CAAoC;AAClCI,EAAAA,WAAW,GAAE;AACX;;AADW,SAWbC,WAXa,GAWC,MAAM;AAClBH,MAAAA,CAAC,CAACI,IAAF,CAAO;AACLC,QAAAA,GAAG,EAAG,WADD;AACa;AAClBC,QAAAA,IAAI,EAAE,KAFD;AAGLC,QAAAA,IAAI,EAAE,MAHD;AAILC,QAAAA,OAAO,EAAGC,MAAD,IAAY;AACnB,eAAKC,QAAL,CAAc;AACZC,YAAAA,QAAQ,EAAEF,MAAM,CAACE,QADL;AAEZC,YAAAA,aAAa,EAAEH,MAAM,CAACI;AAFV,WAAd;AAIA;AACD,SAVI;AAWLC,QAAAA,KAAK,EAAGA,KAAD,IAAW;AAChBC,UAAAA,KAAK,CAAC,wDAAD,CAAL;AACA;AACD;AAdI,OAAP;AAgBD,KA5BY;;AAAA,SA2FbC,aA3Fa,GA2FIC,EAAD,IAASC,MAAD,IAAY;AAClC,UAAGA,MAAM,KAAK,QAAd,EAAwB;AACtB,YAAGC,MAAM,CAACC,OAAP,CAAe,8CAAf,CAAH,EAAmE;AACjEpB,UAAAA,CAAC,CAACI,IAAF,CAAO;AACLC,YAAAA,GAAG,EAAG,aAAYY,EAAG,EADhB;AACmB;AACxBX,YAAAA,IAAI,EAAE,QAFD;AAGLE,YAAAA,OAAO,EAAGC,MAAD,IAAY;AACnB,mBAAKN,WAAL;AACD,aALI;AAMLW,YAAAA,KAAK,EAAGA,KAAD,IAAW;AAChBC,cAAAA,KAAK,CAAC,wDAAD,CAAL;AACA;AACD;AATI,WAAP;AAWD;AACF;AACF,KA3GY;;AAEX,SAAKM,KAAL,GAAa;AACXV,MAAAA,QAAQ,EAAE;AADC,KAAb;AAGD;;AAEDW,EAAAA,iBAAiB,GAAG;AAClB,SAAKnB,WAAL;AACD;;AAoGDoB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbF,EAcG,KAAKF,KAAL,CAAWV,QAAX,CAAoBa,GAApB,CAAwB,CAACC,CAAD,EAAIC,GAAJ,kBACvB,oBAAC,OAAD;AACE,MAAA,GAAG,EAAED,CAAC,CAACR,EADT;AAEE,MAAA,IAAI,EAAEQ,CAAC,CAACE,IAFV;AAGE,MAAA,KAAK,EAAEF,CAAC,CAACG,KAHX;AAIE,MAAA,aAAa,EAAE,KAAKZ,aAAL,CAAmBS,CAAC,CAACR,EAArB,CAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CAdH,CADF,CADF;AA4BD;;AA3IiC;;AA8IpC,eAAehB,WAAf","sourcesContent":["import React, { Component } from 'react';\n\nimport '../stylesheets/App.css';\nimport Subject from './subject';\nimport $ from 'jquery';\n\nclass SubjectView extends Component {\n  constructor(){\n    super();\n    this.state = {\n      subjects: [],\n    }\n  }\n\n  componentDidMount() {\n    this.getSubjects();\n  }\n\n  getSubjects = () => {\n    $.ajax({\n      url: `/subjects`, //TODO: update request URL\n      type: \"GET\",\n      mode: 'CORS',\n      success: (result) => {\n        this.setState({\n          subjects: result.subjects,\n          totalSubjects: result.total_subjects,\n })\n        return;\n      },\n      error: (error) => {\n        alert('Unable to load subjects. Please try your request again')\n        return;\n      }\n    })\n  }\n\n  // selectPage(num) {\n  //   this.setState({page: num}, () => this.getTutors());\n  // }\n\n  // createPagination(){\n  //   let pageNumbers = [];\n  //   let maxPage = Math.ceil(this.state.totalTutors / 10)\n  //   for (let i = 1; i <= maxPage; i++) {\n  //     pageNumbers.push(\n  //       <span\n  //         key={i}\n  //         className={`page-num ${i === this.state.page ? 'active' : ''}`}\n  //         onClick={() => {this.selectPage(i)}}>{i}\n  //       </span>)\n  //   }\n  //   return pageNumbers;\n  // }\n\n  // getBySubject= (id) => {\n  //   $.ajax({\n  //     url: `/subjects/${id}/subjects`, //TODO: update request URL\n  //     type: \"GET\",\n  //     success: (result) => {\n  //       this.setState({\n  //         subjects: result.subjects,\n  //         totalSubjects: result.total_subjects,\n  //         currentSubject: result.current_subject })\n  //       return;\n  //     },\n  //     error: (error) => {\n  //       alert('Unable to load subjects. Please try your request again')\n  //       return;\n  //     }\n  //   })\n  // }\n\n  // submitSearch = (searchTerm) => {\n  //   $.ajax({\n  //     url: `/tutors/search`, //TODO: update request URL\n  //     type: \"POST\",\n  //     dataType: 'json',\n  //     contentType: 'application/json',\n  //     data: JSON.stringify({searchTerm: searchTerm}),\n  //     xhrFields: {\n  //       withCredentials: true\n  //     },\n  //     crossDomain: true,\n  //     success: (result) => {\n  //       this.setState({\n  //         tutors: result.tutors,\n  //         totalTutors: result.total_tutors,\n  //         currentSubject: result.current_subject })\n  //       return;\n  //     },\n  //     error: (error) => {\n  //       alert('Unable to load tutors. Please try your request again')\n  //       return;\n  //     }\n  //   })\n  // }\n\n  subjectAction = (id) => (action) => {\n    if(action === 'DELETE') {\n      if(window.confirm('are you sure you want to delete the subject?')) {\n        $.ajax({\n          url: `/subjects/${id}`, //TODO: update request URL\n          type: \"DELETE\",\n          success: (result) => {\n            this.getSubjects();\n          },\n          error: (error) => {\n            alert('Unable to load subjects. Please try your request again')\n            return;\n          }\n        })\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"subject-view\">\n        <div className=\"subjects-list\">\n          <h2>Subjects</h2>\n          {/* <ul>\n            {Object.keys(this.state.subjects).map((id, ) => (\n              <li key={id} onClick={() => {this.getBySubject(id)}}>\n                {this.state.subjects[id]}\n                <p className=\"subject\">{this.state.subjects[id]}</p>\n              </li>\n            ))}\n          </ul>\n          {/* <Search submitSearch={this.submitSearch}/> \n        </div>\n        <div className=\"subjects-list\"> */}\n          <h2>Subjects</h2>\n          {this.state.subjects.map((t, ind) => (\n            <Subject\n              key={t.id}\n              name={t.name}\n              grade={t.grade}\n              subjectAction={this.subjectAction(t.id)}\n            />\n          ))}\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default SubjectView;\n"]},"metadata":{},"sourceType":"module"}